## 2024-05-22 - [Hidden Cost of Cache Keys]
**Learning:** Frequent cache lookups using string keys generated by slow utility functions (like `toLocalISOString`) can become the bottleneck, outweighing the cost of the cached computation itself in some cases.
**Action:** Optimize key generation functions first, or switch to numeric/primitive keys if possible.

## 2024-05-22 - [Hidden Cost of Date Objects]
**Learning:** Creating `new Date()` objects inside tight loops (like `getDayType` which is called thousands of times) can be a significant bottleneck. Caching the timestamp of reference dates (e.g., `startOfYear`) and using `date.getTime()` arithmetic is orders of magnitude faster.
**Action:** Identify loop-invariant Date objects and cache their timestamps outside the loop.

## 2025-05-23 - Date vs Integer Performance in Calendar Apps
**Learning:** Heavy Date object manipulation in loops is extremely costly in JavaScript. Converting date-based logic to integer-based logic (0-365) using precomputed lookup tables provided a ~14x speedup (515ms -> 36ms).
**Action:** When performing thousands of date calculations (e.g., calendar scanning), always prefer integer arithmetic and convert back to Date objects only at the very end. Use Uint8Array for boolean lookups.
